<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/fragments/head::head"></head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

  <header th:replace="admin/fragments/header::header"></header>

  <!-- =============================================== -->

  <!-- Left side column. contains the sidebar -->
	<aside th:replace="admin/fragments/sidebar::sidebar"></aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <h1>
        Quản lý menu trang giao diện
       
      </h1>
      <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a href="#">Examples</a></li>
        <li class="active">Blank page</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">

      <!-- Default box -->
      <div class="col-xs-12">
          <div class="box">
            <div class="box-header">
           <a th:href="@{/admin/sinh-vien/them-sv}" class="btn btn-success">+Thêm mới Menu</a>

              <div class="box-tools">
                <div class="input-group input-group-sm" style="width: 150px;">
                  <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">

                  <div class="input-group-btn">
                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
              <table class="table table-hover">
                <tbody>
                
                <tr>
                  <th>MSSV</th>
                  <th>Họ Tên</th>
                  <th>Điểm TB</th>
                  <th>Tùy chọn</th>
                </tr>
                
                <tr th:each="sv : ${listSV}">
                  <td th:text="${sv.MSSV}"></td>
                  <td th:text="${sv.hoTen}"></td>
                  <td th:text="${sv.diemTB}"></td>
              
                  <td>
                  <a th:href="@{/admin/sinh-vien/edit/{mssv}(mssv=${sv.MSSV})}" class="btn btn-success" >Sửa</a>
                <a href="#" class="btn btn-danger" onclick="confirmDelete(this)" 
				   th:data-url="@{/admin/sinh-vien/delete/{mssv}(mssv=${sv.MSSV})}">
				   Xóa
				</a>
                    
                  </td>
                </tr>
                
              </tbody></table>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
      <!-- /.box -->

    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

<footer th:replace="admin/fragments/footer::footer"></footer>
</div>
<!-- jQuery 3 -->

<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/jquery-ui.js}"></script>
<script th:src="@{/assets/js/bootstrap.min.js}"></script>
<script th:src="@{/assets/js/adminlte.min.js}"></script>
<script th:src="@{/assets/js/dashboard.js}"></script>
<script th:src="@{/assets/js/function.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    function confirmDelete(element) {
        let url = element.getAttribute("data-url");
        
        Swal.fire({
            title: "Bạn có chắc chắn?",
            text: "Hành động này không thể hoàn tác!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#d33",
            cancelButtonColor: "#3085d6",
            confirmButtonText: "Xóa",
            cancelButtonText: "Hủy"
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = url;
            }
        });
    }
</script>
</body>
</html>
